{"remainingRequest":"/Users/antoineoffroy/Downloads/test/pokemon-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antoineoffroy/Downloads/test/pokemon-front/src/components/AddPokemon.vue?vue&type=style&index=0&id=282fe622&scoped=true&lang=css&","dependencies":[{"path":"/Users/antoineoffroy/Downloads/test/pokemon-front/src/components/AddPokemon.vue","mtime":1634488681072},{"path":"/Users/antoineoffroy/Downloads/test/pokemon-front/node_modules/css-loader/dist/cjs.js","mtime":1634414984089},{"path":"/Users/antoineoffroy/Downloads/test/pokemon-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1634414969304},{"path":"/Users/antoineoffroy/Downloads/test/pokemon-front/node_modules/postcss-loader/src/index.js","mtime":1634414975402},{"path":"/Users/antoineoffroy/Downloads/test/pokemon-front/node_modules/cache-loader/dist/cjs.js","mtime":1634414985156},{"path":"/Users/antoineoffroy/Downloads/test/pokemon-front/node_modules/vue-loader/lib/index.js","mtime":1634414969300}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaW5wdXQtZ3JvdXAtdGV4dCB7CiAgICB3aWR0aDogMTIwcHg7CiAgICBib3JkZXItcmFkaXVzOiAwLjI1ZW0gMCAwIDAuMjVlbTsKfQoKLmZvcm0tc2VsZWN0IHsKICAgIGZsZXg6IDE7Cn0K"},{"version":3,"sources":["AddPokemon.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiQA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"AddPokemon.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"container py-3\">\r\n        <div class=\"row\">\r\n            <div class=\"col-6\">\r\n                <h1 v-if=\"!this.$route.params.id\" class=\"mb-3\">Ajout d'un nouveau pokémon</h1>\r\n                <h1 v-else>Modification du pokémon <b>{{this.form.nom}}</b></h1>\r\n                <div class=\"input-group mb-3\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon1\">Nom</span>\r\n                    <input type=\"text\" :disabled=\"this.$route.params.id\" v-model=\"form.nom\" class=\"form-control\"\r\n                        placeholder=\"Nom du pokémon\" aria-label=\"nom\" aria-describedby=\"basic-addon1\" required>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon1\">Numéro</span>\r\n                    <input type=\"number\" v-model=\"form.numero\" class=\"form-control\" placeholder=\"Numéro\"\r\n                        aria-label=\"Numéro\" aria-describedby=\"basic-addon1\" required>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                    <span class=\"input-group-text\">Description</span>\r\n                    <textarea class=\"form-control\" v-model=\"form.description\" placeholder=\"Description\"\r\n                        aria-label=\"Description\"></textarea>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon1\">Taille</span>\r\n                    <input type=\"number\" v-model=\"form.taille\" class=\"form-control\" placeholder=\"Taille\"\r\n                        aria-label=\"Taille\" aria-describedby=\"basic-addon1\" required>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon1\">Poids</span>\r\n                    <input type=\"number\" v-model=\"form.poids\" class=\"form-control\" placeholder=\"Poids\"\r\n                        aria-label=\"Poids\" aria-describedby=\"basic-addon1\" required>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon1\">Catégorie</span>\r\n                    <input type=\"text\" v-model=\"form.categorie\" class=\"form-control\" placeholder=\"Catégorie\"\r\n                        aria-label=\"Catégorie\" aria-describedby=\"basic-addon1\" required>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon1\">Talent</span>\r\n                    <input type=\"text\" v-model=\"form.talent\" class=\"form-control\" placeholder=\"Talent\"\r\n                        aria-label=\"Talent\" aria-describedby=\"basic-addon1\" required>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                    <label class=\"input-group-text\" for=\"inputGroupSelect01\">Type</label>\r\n                    <select v-model=\"form.type\" class=\"form-select\" id=\"inputGroupSelect01\">\r\n                        <option value=\"ACIER\">Acier</option>\r\n                        <option value=\"COMBAT\">Combat</option>\r\n                        <option value=\"DRAGON\">Dragon</option>\r\n                        <option value=\"EAU\">Eau</option>\r\n                        <option value=\"ELEKTRIK\">Elektrik</option>\r\n                        <option value=\"FEE\">Fée</option>\r\n                        <option value=\"FEU\">Feu</option>\r\n                        <option value=\"GLACE\">Glace</option>\r\n                        <option value=\"INSECTE\">Insecte</option>\r\n                        <option value=\"NORMAL\">Normal</option>\r\n                        <option value=\"OBSCUR\">Obscur</option>\r\n                        <option value=\"PLANTE\">Plante</option>\r\n                        <option value=\"POISON\">Poison</option>\r\n                        <option value=\"PSY\">Psy</option>\r\n                        <option value=\"ROCHE\">Roche</option>\r\n                        <option value=\"SOL\">Sol</option>\r\n                        <option value=\"SPECTRE\">Spectre</option>\r\n                        <option value=\"TENEBRE\">Tenebre</option>\r\n                        <option value=\"VOL\">Vol</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                    <label class=\"input-group-text\" for=\"inputGroupSelect01\">Force</label>\r\n                    <select v-model=\"form.force\" class=\"form-select\" id=\"inputGroupSelect01\">\r\n                        <option value=\"ACIER\">Acier</option>\r\n                        <option value=\"COMBAT\">Combat</option>\r\n                        <option value=\"DRAGON\">Dragon</option>\r\n                        <option value=\"EAU\">Eau</option>\r\n                        <option value=\"ELEKTRIK\">Elektrik</option>\r\n                        <option value=\"FEE\">Fée</option>\r\n                        <option value=\"FEU\">Feu</option>\r\n                        <option value=\"GLACE\">Glace</option>\r\n                        <option value=\"INSECTE\">Insecte</option>\r\n                        <option value=\"NORMAL\">Normal</option>\r\n                        <option value=\"OBSCUR\">Obscur</option>\r\n                        <option value=\"PLANTE\">Plante</option>\r\n                        <option value=\"POISON\">Poison</option>\r\n                        <option value=\"PSY\">Psy</option>\r\n                        <option value=\"ROCHE\">Roche</option>\r\n                        <option value=\"SOL\">Sol</option>\r\n                        <option value=\"SPECTRE\">Spectre</option>\r\n                        <option value=\"TENEBRE\">Tenebre</option>\r\n                        <option value=\"VOL\">Vol</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"input-group mb-3\">\r\n                    <label class=\"input-group-text\" for=\"inputGroupSelect01\">Faiblesse</label>\r\n                    <select v-model=\"form.faiblesse\" class=\"form-select\" id=\"inputGroupSelect01\">\r\n                        <option value=\"ACIER\">Acier</option>\r\n                        <option value=\"COMBAT\">Combat</option>\r\n                        <option value=\"DRAGON\">Dragon</option>\r\n                        <option value=\"EAU\">Eau</option>\r\n                        <option value=\"ELEKTRIK\">Elektrik</option>\r\n                        <option value=\"FEE\">Fée</option>\r\n                        <option value=\"FEU\">Feu</option>\r\n                        <option value=\"GLACE\">Glace</option>\r\n                        <option value=\"INSECTE\">Insecte</option>\r\n                        <option value=\"NORMAL\">Normal</option>\r\n                        <option value=\"OBSCUR\">Obscur</option>\r\n                        <option value=\"PLANTE\">Plante</option>\r\n                        <option value=\"POISON\">Poison</option>\r\n                        <option value=\"PSY\">Psy</option>\r\n                        <option value=\"ROCHE\">Roche</option>\r\n                        <option value=\"SOL\">Sol</option>\r\n                        <option value=\"SPECTRE\">Spectre</option>\r\n                        <option value=\"TENEBRE\">Tenebre</option>\r\n                        <option value=\"VOL\">Vol</option>\r\n                    </select>\r\n                </div>\r\n                <button type=\"button\" class=\"btn btn-secondary\" @click=\"reset()\">Reset</button>\r\n                <button v-if=\"!this.$route.params.id\" type=\"button\" class=\"btn btn-primary ml-2\"\r\n                    @click=\"actionPokemon()\">Ajouter le pokémon</button>\r\n                <button v-else type=\"button\" class=\"btn btn-primary ml-2\" @click=\"actionPokemon()\">Modifier le\r\n                    pokémon</button>\r\n            </div>\r\n            <div class=\"col-6\">\r\n                <img v-if=\"this.form.numero\"\r\n                    :src=\"'https://assets.pokemon.com/assets/cms2/img/pokedex/full/' + ('00' + form.numero).slice(-3) + '.png'\"\r\n                    width=\"500\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import { URI } from './../env'\r\n    export default {\r\n        name: 'AddPokemon',\r\n        data() {\r\n            return {\r\n                form: {\r\n                    nom: null,\r\n                    description: null,\r\n                    numero: null,\r\n                    taille: null,\r\n                    poids: null,\r\n                    categorie: null,\r\n                    talent: null,\r\n                    type: null,\r\n                    faiblesse: null,\r\n                    force: null\r\n                }\r\n            }\r\n        },\r\n\r\n        mounted() {\r\n            if (this.$route.params.id) {\r\n                this.axios.get(URI + 'pokemons/' + this.$route.params.id).then((response) => {\r\n                    this.fillData(response.data)\r\n                }).catch(() => {\r\n                    this.$bvToast.toast(\"Impossible de récupérer le pokémon numéro : \" + this.$route.params.id +\r\n                        \" pour édition\", {\r\n                            title: 'Une erreur s\\'est produite',\r\n                            variant: 'danger',\r\n                            solid: true,\r\n                            autoHideDelay: 10000,\r\n                            toaster: 'b-toaster-bottom-right'\r\n                        })\r\n                });\r\n            }\r\n\r\n        },\r\n        methods: {\r\n            actionPokemon() {\r\n                let request = {\r\n                    id: this.$route.params.id ? this.$route.params.id : null,\r\n                    nom: this.form.nom,\r\n                    description: this.form.description,\r\n                    numero: parseInt(this.form.numero),\r\n                    taille: parseInt(this.form.taille),\r\n                    poids: parseInt(this.form.poids),\r\n                    categorie: this.form.categorie,\r\n                    talent: this.form.talent,\r\n                    type: this.form.type,\r\n                    faiblesse: this.form.faiblesse,\r\n                    force: this.form.force\r\n                }\r\n                if (!this.$route.params.id) {\r\n                    this.addPokemon(request);\r\n                } else {\r\n                    this.updatepokemon(request);\r\n                }\r\n            },\r\n\r\n            addPokemon(request) {\r\n                this.axios.post(URI + 'pokemons/', request).then(() => {\r\n                    this.$bvToast.toast(\"Le pokémon a bien été ajouté ! \", {\r\n                        title: 'Insertion réussie !',\r\n                        variant: 'success',\r\n                        solid: true,\r\n                        autoHideDelay: 10000,\r\n                        toaster: 'b-toaster-bottom-right'\r\n                    })\r\n                    setTimeout(() => {this.$router.push({ name: 'home'})}, 1500);\r\n                }).catch(() => {\r\n                    this.$bvToast.toast(\"L'ajout du pokémon a échoué\", {\r\n                        title: 'Une erreur s\\'est produite',\r\n                        variant: 'danger',\r\n                        solid: true,\r\n                        autoHideDelay: 10000,\r\n                        toaster: 'b-toaster-bottom-right'\r\n                    })\r\n                });\r\n            },\r\n            updatepokemon(request) {\r\n                this.axios.put(URI + 'pokemons/' + request.id + '/', request).then(() => {\r\n                    this.$bvToast.toast(\"Le pokémon\" + request.nom + \" a bien été modifié ! \", {\r\n                        title: 'Modification réussie !',\r\n                        variant: 'success',\r\n                        solid: true,\r\n                        autoHideDelay: 10000,\r\n                        toaster: 'b-toaster-bottom-right'\r\n                    })\r\n                    setTimeout(() => {this.$router.push({ name: 'home'})}, 1500);\r\n                }).catch(() => {\r\n                    this.$bvToast.toast(\"La modification du pokémon a échoué\", {\r\n                        title: 'Une erreur s\\'est produite',\r\n                        variant: 'danger',\r\n                        solid: true,\r\n                        autoHideDelay: 10000,\r\n                        toaster: 'b-toaster-bottom-right'\r\n                    })\r\n                });\r\n            },\r\n            reset() {\r\n                this.form.nom = null,\r\n                    this.form.description = null,\r\n                    this.form.numero = null,\r\n                    this.form.taille = null,\r\n                    this.form.poids = null,\r\n                    this.form.categorie = null,\r\n                    this.form.talent = null,\r\n                    this.form.type = null,\r\n                    this.form.faiblesse = null,\r\n                    this.form.force = null\r\n            },\r\n            fillData(response) {\r\n                this.form.nom = response.nom,\r\n                    this.form.description = response.description,\r\n                    this.form.numero = response.numero,\r\n                    this.form.type = response.type\r\n                if (response.caracteristiques) {\r\n                    this.form.taille = response.caracteristiques.taille,\r\n                        this.form.poids = response.caracteristiques.poids,\r\n                        this.form.categorie = response.caracteristiques.categorie,\r\n                        this.form.talent = response.caracteristiques.talent,\r\n                        this.form.faiblesse = response.caracteristiques.faiblesse,\r\n                        this.form.force = response.caracteristiques.force\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .input-group-text {\r\n        width: 120px;\r\n        border-radius: 0.25em 0 0 0.25em;\r\n    }\r\n\r\n    .form-select {\r\n        flex: 1;\r\n    }\r\n</style>"]}]}